(function(e){function t(t){for(var a,o,s=t[0],i=t[1],u=t[2],d=0,b=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(b.length)b.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0c63":function(e,t,n){},"12c1":function(e,t,n){"use strict";n("a54f")},1772:function(e,t,n){},2790:function(e,t,n){},2953:function(e,t,n){},"29d0":function(e,t,n){},"2b04":function(e,t,n){},"34de":function(e,t,n){},"45cc":function(e,t,n){"use strict";n("1772")},5067:function(e,t,n){"use strict";n("2b04")},"51b3":function(e,t,n){"use strict";n("0c63")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={class:"container"};function c(e,t,n,c,o,s){var i=Object(a["w"])("router-view");return Object(a["o"])(),Object(a["d"])("div",r,[Object(a["f"])(i)])}n("ac1f"),n("5319");var o={name:"App",components:{},mounted:function(){""===this.$store.state.token&&"Administrador"!==this.$store.state.user["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]?this.$router.replace("/panel/admin/"):this.$router.replace("/panel/admin/home")}};n("51b3");o.render=c;var s=o,i=Object(a["F"])("data-v-367603c0");Object(a["r"])("data-v-367603c0");var u={key:1,class:"home-view"},l={class:"card-wrapper"};Object(a["p"])();var d=i((function(e,t,n,r,c,o){var s=Object(a["w"])("Spinner"),d=Object(a["w"])("Card"),b=Object(a["w"])("Container");return Object(a["o"])(),Object(a["d"])(b,null,{default:i((function(){return[c.loaded?(Object(a["o"])(),Object(a["d"])("div",u,[Object(a["f"])("div",l,[Object(a["f"])(d,{title:"Total de Usuarios:",body:c.userTotal},null,8,["body"]),Object(a["f"])(d,{title:"Total de Problemas: ",body:c.problemTotal},null,8,["body"]),Object(a["f"])(d,{title:"Total de Ayudas: ",body:c.helpTotal},null,8,["body"])])])):(Object(a["o"])(),Object(a["d"])(s,{key:0}))]})),_:1})})),b=n("1da1"),p=(n("96cf"),n("bc3a")),f=n.n(p),O={class:"view"},j={class:"content"};function m(e,t,n,r,c,o){var s=Object(a["w"])("Header"),i=Object(a["w"])("NavBar");return Object(a["o"])(),Object(a["d"])(a["a"],null,[Object(a["f"])(s),Object(a["f"])("div",O,[Object(a["f"])(i),Object(a["f"])("div",j,[Object(a["v"])(e.$slots,"default")])])],64)}var v=Object(a["f"])("i",{class:"fas fa-bars"},null,-1);function h(e,t,n,r,c,o){return Object(a["o"])(),Object(a["d"])("header",null,[Object(a["f"])("button",{onClick:t[1]||(t[1]=function(){return o.onClick&&o.onClick.apply(o,arguments)}),class:"btn transparent",id:"btn"},[v]),Object(a["f"])("button",{onClick:t[2]||(t[2]=function(){return o.logOut&&o.logOut.apply(o,arguments)}),class:"btn"},"LogOut")])}var g={name:"Header",methods:{onClick:function(){document.getElementById("btn").classList.add("active"),setTimeout((function(){document.getElementById("btn").classList.remove("active")}),400),this.$store.commit("ShowOrHide")},logOut:function(){window.localStorage.removeItem("token"),this.$router.replace("/")}}};n("5ef8");g.render=h;var w=g,y=Object(a["F"])("data-v-5915d35a");Object(a["r"])("data-v-5915d35a");var k={class:"nav-bar"},S=Object(a["f"])("i",{class:"fas fa-home"},null,-1),x=Object(a["e"])("Home"),_=Object(a["f"])("i",{class:"fas fa-users"},null,-1),P=Object(a["e"])("Users");Object(a["p"])();var T=y((function(e,t,n,r,c,o){var s=Object(a["w"])("router-link");return Object(a["D"])((Object(a["o"])(),Object(a["d"])("nav",k,[Object(a["f"])(s,{exact:"",to:"/panel/admin/home"},{default:y((function(){return[S,x]})),_:1}),Object(a["f"])(s,{exact:"",to:"/panel/admin/users"},{default:y((function(){return[_,P]})),_:1})],512)),[[a["B"],e.$store.state.show]])})),C={name:"NavBar",methods:{}};n("45cc");C.render=T,C.__scopeId="data-v-5915d35a";var A=C,I={name:"Container",components:{Header:w,NavBar:A}};n("12c1");I.render=m;var D=I,N=Object(a["F"])("data-v-8cf455c4");Object(a["r"])("data-v-8cf455c4");var R={class:"card"},U={class:"card-title"},E={class:"card-body"};Object(a["p"])();var H=N((function(e,t,n,r,c,o){return Object(a["o"])(),Object(a["d"])("div",R,[Object(a["f"])("div",U,[Object(a["f"])("h2",null,Object(a["y"])(n.title),1)]),Object(a["f"])("div",E,[Object(a["f"])("p",null,Object(a["y"])(n.body),1)])])})),B={name:"Card",props:["title","body"]};n("a0ae");B.render=H,B.__scopeId="data-v-8cf455c4";var $=B,L={class:"lds-dual-ring"};function F(e,t,n,r,c,o){return Object(a["o"])(),Object(a["d"])("div",L)}var M={name:"Spinner"};n("e979");M.render=F;var V=M,J={name:"Home",components:{Container:D,Card:$,Spinner:V},data:function(){return{loaded:!1,userTotal:0,problemTotal:0,helpTotal:0}},mounted:function(){this.getAllData()},methods:{getAllData:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserData();case 2:return t.next=4,e.getProblemsData();case 4:return t.next=6,e.getHelpData();case 6:e.loaded=!0;case 7:case"end":return t.stop()}}),t)})))()},getUserData:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://identity-web-service.herokuapp.com/api/users",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}});case 2:n=t.sent,a=n.data.content,e.userTotal=a.total;case 5:case"end":return t.stop()}}),t)})))()},getProblemsData:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://amigonimo-web-api.herokuapp.com/api/problems");case 2:n=t.sent,a=n.data.content,e.problemTotal=a.total;case 5:case"end":return t.stop()}}),t)})))()},getHelpData:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://amigonimo-web-api.herokuapp.com/api/helps");case 2:n=t.sent,a=n.data.content,e.helpTotal=a.total;case 5:case"end":return t.stop()}}),t)})))()}}};n("5067");J.render=d,J.__scopeId="data-v-367603c0";var z=J,K=Object(a["F"])("data-v-177d4994");Object(a["r"])("data-v-177d4994");var q={key:1,class:"users-view"},G={class:"page-selected"},Q=Object(a["f"])("h3",null,"Pagina: ",-1),W={class:"select"},X={class:"users"},Y=Object(a["f"])("div",{class:"user head"},[Object(a["f"])("h2",null,"ID"),Object(a["f"])("h2",null,"Username"),Object(a["f"])("h2",null,"Correo"),Object(a["f"])("h2",null,"Tips Publicos"),Object(a["f"])("h2",null,"Helps publicos"),Object(a["f"])("h2",null,"Problems Publicos")],-1);Object(a["p"])();var Z=K((function(e,t,n,r,c,o){var s=Object(a["w"])("Spinner"),i=Object(a["w"])("Container");return Object(a["o"])(),Object(a["d"])(i,null,{default:K((function(){return[c.loaded?(Object(a["o"])(),Object(a["d"])("div",q,[Object(a["f"])("div",G,[Q,Object(a["f"])("div",W,[Object(a["f"])("select",{onChange:t[1]||(t[1]=function(){return o.handleChange&&o.handleChange.apply(o,arguments)}),value:c.page},[(Object(a["o"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(c.totalPages,(function(e){return Object(a["o"])(),Object(a["d"])("option",{key:e,value:e+1},Object(a["y"])(e+1),9,["value"])})),128))],40,["value"])])]),Object(a["f"])("div",X,[Y,(Object(a["o"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(c.users,(function(e){return Object(a["o"])(),Object(a["d"])("div",{class:"user",key:e},[Object(a["f"])("span",null,Object(a["y"])(e.id),1),Object(a["f"])("span",null,Object(a["y"])(e.userName),1),Object(a["f"])("span",null,Object(a["y"])(e.email),1),Object(a["f"])("span",null,Object(a["y"])(e.publicTips),1),Object(a["f"])("span",null,Object(a["y"])(e.publicHelps),1),Object(a["f"])("span",null,Object(a["y"])(e.publicProblems),1)])})),128))])])):(Object(a["o"])(),Object(a["d"])(s,{key:0}))]})),_:1})})),ee=(n("a630"),n("3ca3"),n("d3b7"),n("ddb0"),{name:"Users",components:{Container:D,Spinner:V},data:function(){return{users:[],page:1,loaded:!1,totalPages:null}},mounted:function(){this.getAllUsers()},methods:{getAllUsers:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loaded=!1,t.next=3,f.a.get("https://identity-web-service.herokuapp.com/api/users?page=".concat(e.page),{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}});case 3:n=t.sent,a=n.data.content,e.users=a.items,e.totalPages=Array.from(Array(a.pages).keys()),e.loaded=!0;case 8:case"end":return t.stop()}}),t)})))()},handleChange:function(e){this.page=e.target.value}},watch:{page:function(){this.getAllUsers()}}});n("c659");ee.render=Z,ee.__scopeId="data-v-177d4994";var te=ee,ne=Object(a["F"])("data-v-53c5a47a");Object(a["r"])("data-v-53c5a47a");var ae={class:"container"},re=Object(a["f"])("h1",null," NoName Administration Panel ",-1),ce={class:"form-group"},oe=Object(a["f"])("div",{class:"bar"},null,-1),se={class:"form-group"},ie=Object(a["f"])("div",{class:"bar"},null,-1),ue=Object(a["f"])("div",{class:"form-group"},[Object(a["f"])("input",{type:"submit",class:"btn",value:"Login"})],-1);Object(a["p"])();var le=ne((function(e,t,n,r,c,o){return Object(a["o"])(),Object(a["d"])("div",ae,[re,Object(a["f"])("form",{class:"form-login",onSubmit:t[3]||(t[3]=Object(a["E"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(a["f"])("div",ce,[Object(a["D"])(Object(a["f"])("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.gmail=e}),class:"form-control",placeholder:"E-mail: "},null,512),[[a["A"],c.gmail]]),oe]),Object(a["f"])("div",se,[Object(a["D"])(Object(a["f"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e}),class:"form-control",placeholder:"Password: "},null,512),[[a["A"],c.password]]),ie]),ue],32)])})),de=n("1232"),be={name:"Login",data:function(){return{gmail:"",password:""}},methods:{onSubmit:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("https://identity-web-service.herokuapp.com/api/users/login",JSON.stringify({username:"",password:e.password,email:e.gmail}),{headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.data.content;case 5:a=t.sent,r=Object(de["a"])(a.token,Object({NODE_ENV:"production",BASE_URL:"/"}).TOKEN),console.log(r),"Administrator"===r["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]?(window.localStorage.setItem("token",a.token),window.localStorage.setItem("expiration",a.expiration),e.$router.replace("/home")):alert("No tienes permiso");case 9:case"end":return t.stop()}}),t)})))()}}};n("9ffa"),n("a8ef");be.render=le,be.__scopeId="data-v-53c5a47a";var pe=be,fe=n("6c02"),Oe=n("5502"),je=Object(Oe["a"])({state:{show:!0,token:window.localStorage.getItem("token")?window.localStorage.getItem("token"):"",user:window.localStorage.getItem("token")?Object(de["a"])(window.localStorage.getItem("token"),Object({NODE_ENV:"production",BASE_URL:"/"}).TOKEN):null},mutations:{ShowOrHide:function(e){e.show=!e.show}}}),me=je,ve=Object(fe["a"])({history:Object(fe["b"])(),routes:[{path:"/panel/admin/",component:pe},{path:"/panel/admin/home",component:z},{path:"/panel/admin/users",component:te}]});Object(a["c"])(s).use(ve).use(me).mount("#app")},"5ef8":function(e,t,n){"use strict";n("2790")},7001:function(e,t,n){},"9ffa":function(e,t,n){"use strict";n("34de")},a0ae:function(e,t,n){"use strict";n("2953")},a54f:function(e,t,n){},a8ef:function(e,t,n){"use strict";n("d079")},c659:function(e,t,n){"use strict";n("29d0")},d079:function(e,t,n){},e979:function(e,t,n){"use strict";n("7001")}});
//# sourceMappingURL=app.b98b478e.js.map